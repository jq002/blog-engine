{"version":3,"sources":["webpack:///src/components/NavHeader.vue","webpack:///./src/components/NavHeader.vue?29fa","webpack:///./src/components/NavHeader.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5cc9","webpack:///./src/App.vue","webpack:///./src/components/HelloWorld.vue?f4ec","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/HelloWorld.vue","webpack:///src/pages/article/list.vue","webpack:///./src/pages/article/list.vue?2937","webpack:///./src/pages/article/list.vue","webpack:///src/pages/signUp.vue","webpack:///./src/pages/signUp.vue?6264","webpack:///./src/pages/signUp.vue","webpack:///src/pages/login.vue","webpack:///./src/pages/login.vue?6df1","webpack:///./src/pages/login.vue","webpack:///src/pages/article/create.vue","webpack:///./src/pages/article/create.vue?34e4","webpack:///./src/pages/article/create.vue","webpack:///src/pages/article/show.vue","webpack:///./src/pages/article/show.vue?d99f","webpack:///./src/pages/article/show.vue","webpack:///src/pages/article/edit.vue","webpack:///./src/pages/article/edit.vue?8b9d","webpack:///./src/pages/article/edit.vue","webpack:///./src/pages/user/follower.vue?53aa","webpack:///./src/pages/user/follower.vue","webpack:///src/pages/user/follower.vue","webpack:///src/pages/user/followee.vue","webpack:///./src/pages/user/followee.vue?f00f","webpack:///./src/pages/user/followee.vue","webpack:///src/pages/user/friend.vue","webpack:///./src/pages/user/friend.vue?4902","webpack:///./src/pages/user/friend.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/api/index.js","webpack:///./src/main.js"],"names":["NavHeader","_this","this","methods","extends_default","keyPath","exit","components_NavHeader","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","default-active","activeIndex","mode","router","on","select","handleSelect","index","aria-hidden","_v","slot","user","click","handleExit","_s","getUsername","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","finish","start","progress","meta","next","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","components_HelloWorld","msg","src_components_HelloWorld","HelloWorld_normalizeComponent","list","match","watch","defineProperty_default","cid","flag","getMyArticles","getAllArticles","query","q","cateObj","find","then","articles","catch","fail","error","article_list","title","_l","article","key","to","name","params","get","staticStyle","float","domProps","innerHTML","pages_article_list","list_normalizeComponent","signUp","callback","required","message","trigger","_this2","User","username","pass","email","loginUser","pages_signUp","ref","model","signForm","status-icon","rules","signRules","label-width","label","prop","type","auto-complete","value","$$v","$set","expression","keyup","$event","_k","keyCode","submitForm","src_pages_signUp","signUp_normalizeComponent","login","pages_login","src_pages_login","login_normalizeComponent","editor","create","computed","Object","vuex_esm","getCategory","html","wangEditor","validateContent","categorys","console","content","category","ACL","acl","_this3","save","_this4","createArticle","status","err","article_create","form","label-position","value-key","placeholder","cate","class","is-error","validate","_e","submit","pages_article_create","create_normalizeComponent","show","followeeQuery","current","follow","log","article_show","uid","icon","toEdit","destroy","round","toFollow","pages_article_show","show_normalizeComponent","edit_editor","edit","getArticle","resolve","timer","getContent","_this5","setArticle","article_edit","pages_article_edit","edit_normalizeComponent","user_follower","follower","pages_user_follower","follower_normalizeComponent","followerList","followerQuery","followers","followee","followeeList","followees","unfollow","_ref","user_followee","padding","margin","cancelFollow","plain","open","pages_user_followee","followee_normalizeComponent","friend","getDefaultStatus","getPrivateStatus","statuses","inboxQuery","$api","AV","user_friend","data","createdAt","pages_user_friend","friend_normalizeComponent","vue_runtime_esm","use","vue_router_esm","routes","path","component","needLogin","src_store","Store","state","getters","uname","_ref2","mutations","setUser","actions","context","commit","av_min_default","a","init","appId","appKey","api","config","productionTip","beforeEach","from","matched","some","record","app","$message","mixin","beforeCreate","vue_progressbar_default","color","failedColor","thickness","transition","speed","opacity","termination","autoRevert","location","inverse","element_ui_common_default","el","store","h"],"mappings":"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","file":"static/js/app.90d7a2615cb67eee52cb.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n      <el-menu :default-active=\"activeIndex\"  mode=\"horizontal\" @select=\"handleSelect\" :router=\"true\">\r\n  <el-menu-item index=\"/\"><i class=\"fa fa-home\" aria-hidden=\"true\"></i>琵琶</el-menu-item>\r\n  <el-submenu index=\"2\">\r\n    <template slot=\"title\">探索</template>\r\n    <el-menu-item index=\"/article?type=all\">所有文章</el-menu-item>\r\n    <el-menu-item index=\"2-2\">图片</el-menu-item>\r\n    <el-menu-item index=\"2-3\">杂项</el-menu-item>\r\n  </el-submenu>\r\n  <template v-if=\"!user\">\r\n    <el-menu-item index=\"/signup\" class=\"el-menu__signup\"><i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i>注册</el-menu-item>\r\n    <el-menu-item index=\"/login\" class=\"el-menu__login\"><i class=\"fa fa-paper-plane\" aria-hidden=\"true\"></i>登录</el-menu-item>\r\n  </template>\r\n  <template v-else>\r\n    <el-menu-item index=\"6\" class=\"el-menu__loginout\" @click=\"handleExit\"> 退出</el-menu-item>\r\n    <el-submenu index=\"5\" class=\"el-menu__options\">\r\n      <span slot=\"title\">{{user.getUsername()}}</span>\r\n      <el-menu-item index=\"5-1\">个人中心</el-menu-item>\r\n      <el-menu-item index=\"/article/create\">发布文章</el-menu-item>\r\n      <el-menu-item index=\"/article?type=me\">我的文章</el-menu-item>\r\n      <el-menu-item index=\"/user/followee\">我的关注</el-menu-item>\r\n      <el-menu-item index=\"/user/follower\">我的粉丝</el-menu-item>\r\n      <el-menu-item index=\"/user/friend\">朋友圈</el-menu-item>\r\n    </el-submenu>\r\n  </template>\r\n</el-menu>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState,mapActions} from 'vuex'\r\nexport default {\r\n     data() {\r\n      return {\r\n        activeIndex: '/',\r\n      };\r\n    },\r\n    computed:mapState(['user']),\r\n    created(){\r\n      this.activeIndex=this.$route.path;//刷新不高亮问题\r\n      this.$router.afterEach((to,from)=>{\r\n        this.activeIndex=to.path;//编程式切换路由不高亮问题\r\n      })\r\n    },\r\n    methods: {\r\n      handleSelect(key, keyPath) {\r\n        console.log(key, keyPath);\r\n      },\r\n      ...mapActions(['exit']),\r\n      handleExit(){\r\n        this.exit();\r\n        this.$api.AV.User.logOut();//退出持久化\r\n        this.$router.push({path:'/'});\r\n\r\n        this.$message.success('成功退出');\r\n\r\n      }\r\n    }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n .el-menu{\r\n     .el-menu-item{\r\n        i{\r\n          padding-right: 5px;\r\n        }\r\n     }\r\n     &__signup,&__login,&__options,&__loginout{\r\n       float: right;\r\n     }\r\n }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/NavHeader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('el-menu',{attrs:{\"default-active\":_vm.activeIndex,\"mode\":\"horizontal\",\"router\":true},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"/\"}},[_c('i',{staticClass:\"fa fa-home\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"琵琶\")]),_vm._v(\" \"),_c('el-submenu',{attrs:{\"index\":\"2\"}},[_c('template',{slot:\"title\"},[_vm._v(\"探索\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/article?type=all\"}},[_vm._v(\"所有文章\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"2-2\"}},[_vm._v(\"图片\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"2-3\"}},[_vm._v(\"杂项\")])],2),_vm._v(\" \"),(!_vm.user)?[_c('el-menu-item',{staticClass:\"el-menu__signup\",attrs:{\"index\":\"/signup\"}},[_c('i',{staticClass:\"fa fa-user-circle\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-menu-item',{staticClass:\"el-menu__login\",attrs:{\"index\":\"/login\"}},[_c('i',{staticClass:\"fa fa-paper-plane\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"登录\")])]:[_c('el-menu-item',{staticClass:\"el-menu__loginout\",attrs:{\"index\":\"6\"},on:{\"click\":_vm.handleExit}},[_vm._v(\" 退出\")]),_vm._v(\" \"),_c('el-submenu',{staticClass:\"el-menu__options\",attrs:{\"index\":\"5\"}},[_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.user.getUsername()))]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"5-1\"}},[_vm._v(\"个人中心\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/article/create\"}},[_vm._v(\"发布文章\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/article?type=me\"}},[_vm._v(\"我的文章\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/user/followee\"}},[_vm._v(\"我的关注\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/user/follower\"}},[_vm._v(\"我的粉丝\")]),_vm._v(\" \"),_c('el-menu-item',{attrs:{\"index\":\"/user/friend\"}},[_vm._v(\"朋友圈\")])],1)]],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-02423d7c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02423d7c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./NavHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./NavHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02423d7c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./NavHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-02423d7c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NavHeader.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n        <vue-progress-bar></vue-progress-bar>\r\n        <nav-header></nav-header>\r\n    <!-- <img src=\"./assets/logo.png\"> -->\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavHeader from '@/components/NavHeader.vue'\r\nexport default {\r\n  name: 'App',\r\n  components:{NavHeader},\r\n mounted () {\r\n    this.$Progress.finish()\r\n  },\r\n  created () {\r\n    this.$Progress.start()\r\n    this.$router.beforeEach((to, from, next) => {\r\n      //  does the page we want to go to have a meta.progress object\r\n      if (to.meta.progress !== undefined) {\r\n        let meta = to.meta.progress\r\n        // parse meta tags\r\n        this.$Progress.parseMeta(meta)\r\n      }\r\n      //  start the progress bar\r\n      this.$Progress.start()\r\n      //  continue to next page\r\n      next()\r\n    })\r\n    this.$router.afterEach((to, from) => {\r\n      //  finish the progress bar\r\n      // this.$Progress.finish()\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('vue-progress-bar'),_vm._v(\" \"),_c('nav-header'),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-b708354a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b708354a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b708354a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h1',[_vm._v(_vm._s(_vm.msg))]),_vm._v(\" \"),_c('h2',[_vm._v(\"Essential Links\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-ff374778\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ff374778\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./HelloWorld.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff374778\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ff374778\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"hello\">\r\n    <h1>{{ msg }}</h1>\r\n    <h2>Essential Links</h2>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  data() {\r\n    return {\r\n      msg: \"Welcome to Your Vue.js App\"\r\n    };\r\n  },\r\n  mounted(){\r\n    this.$Progress.finish()\r\n  },\r\n};\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh1,\r\nh2 {\r\n  font-weight: normal;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","<template>\r\n  <div class=\"container\">\r\n    <header>\r\n    <h2>{{title}}</h2>\r\n    </header>\r\n    <!-- <el-card class=\"box-card\" v-for=\"article in articles\" :key=\"article.id\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <router-link :to=\"{ name:'ArticleShow',params:{id:article.id}}\">\r\n          {{article.get('title')}}\r\n        </router-link>\r\n        <el-button style=\"float: right; padding: 3px 0\" type=\"text\">操作按钮</el-button>\r\n      </div>\r\n      <div class=\"content\" v-html=\"article.get('content')\">\r\n      </div>\r\n    </el-card> -->\r\n    <section>\r\n      <article v-for=\"article in articles\" :key=\"article.id\">\r\n        <h3>\r\n          <router-link :to=\"{ name:'ArticleShow',params:{id:article.id}}\">\r\n            {{article.get('title')}}\r\n          </router-link>\r\n          <el-tag  style=\"float: right;\" >作者：{{article.get('author').get('username')}}</el-tag>\r\n           <!-- <el-button style=\"float: right;\" icon=\"el-icon-star-off\" circle></el-button> -->\r\n        </h3>\r\n        <div class=\"content\" v-html=\"article.get('content')\">\r\n           \r\n        </div>\r\n      </article>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"List\",\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      articles: []\r\n    };\r\n  },\r\n  created() {\r\n    this.match();\r\n  },\r\n  watch: {\r\n    [\"$route.query\"]() {\r\n      console.log(\"render\");\r\n      this.articles = [];\r\n      this.match();\r\n    }\r\n  },\r\n  computed: mapState([\"user\"]),\r\n  methods: {\r\n    match() {\r\n      let flag = this.$route.query.type || this.$route.query.cid;\r\n      this.$Progress.start();\r\n      switch (flag) {\r\n        case \"me\":\r\n          this.getMyArticles();\r\n          break;\r\n        case \"all\":\r\n          this.getAllArticles();\r\n          break;\r\n        default:\r\n          this.getCategoryArticles(flag);\r\n      }\r\n    },\r\n    getMyArticles() {\r\n      this.title = \"我的文章\";\r\n      const q = this.query();\r\n      // console.log(user);\r\n      q.equalTo(\"author\", this.user);\r\n      this.setArticles(q);\r\n    },\r\n    getAllArticles() {\r\n      this.title = \"所有文章\";\r\n      const q = this.query();\r\n      this.setArticles(q);\r\n    },\r\n    getCategoryArticles(cid) {\r\n      let cateObj = this.getCategoryObj(cid);\r\n      const q = this.query();\r\n      q.equalTo(\"category\", cateObj);\r\n      this.setArticles(q);\r\n    },\r\n    getCategoryObj(id) {\r\n      return this.$api.AV.Object.createWithoutData(\"Category\", id);\r\n    },\r\n    setArticles(q) {\r\n      q\r\n        .find()\r\n        .then(articles => {\r\n          this.articles = articles;\r\n          this.$Progress.finish();\r\n        })\r\n        .catch(this.fail);\r\n    },\r\n    fail(error) {\r\n      this.$message.error(error);\r\n      this.$Progress.fail();\r\n    },\r\n    query() {\r\n      let q = new this.$api.AV.Query(\"Article\");\r\n      q.include(\"category\");\r\n      q.include(\"author\");\r\n      q.descending(\"createdAt\"); //新創建的在前面\r\n      return q;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh3{\r\n  margin:  0;\r\n}\r\narticle{\r\n  border-bottom: 1px solid #ddd;\r\n  margin-bottom: 20px;\r\n}\r\n.content {\r\noverflow: hidden;\r\ntext-overflow:ellipsis;\r\nwhite-space: nowrap;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/article/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('header',[_c('h2',[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('section',_vm._l((_vm.articles),function(article){return _c('article',{key:article.id},[_c('h3',[_c('router-link',{attrs:{\"to\":{ name:'ArticleShow',params:{id:article.id}}}},[_vm._v(\"\\n          \"+_vm._s(article.get('title'))+\"\\n        \")]),_vm._v(\" \"),_c('el-tag',{staticStyle:{\"float\":\"right\"}},[_vm._v(\"作者：\"+_vm._s(article.get('author').get('username')))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(article.get('content'))}})])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-2af88fc0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/article/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2af88fc0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2af88fc0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2af88fc0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/article/list.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n      <h2>注册</h2>\r\n      <el-form :model=\"signForm\" status-icon :rules=\"signRules\" ref=\"signForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n  <el-form-item label=\"用户名\" prop=\"username\" >\r\n    <el-input type=\"text\" v-model=\"signForm.username\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"密码\" prop=\"pass\">\r\n    <el-input type=\"password\" v-model=\"signForm.pass\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n    <el-input type=\"password\" v-model=\"signForm.checkPass\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"邮箱\" prop=\"email\" >\r\n    <el-input  v-model=\"signForm.email\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @keyup.enter=\"submitForm('signForm')\" @click=\"submitForm('signForm')\">提交</el-button>\r\n    <!-- <el-button @click=\"resetForm('signForm')\">重置</el-button> -->\r\n  </el-form-item>\r\n</el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请输入密码\"));\r\n      } else {\r\n        if (this.signForm.checkPass !== \"\") {\r\n          this.$refs.signForm.validateField(\"checkPass\");\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请再次输入密码\"));\r\n      } else if (value !== this.signForm.pass) {\r\n        callback(new Error(\"两次输入密码不一致!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      signForm: {\r\n        pass: \"\",\r\n        checkPass: \"\",\r\n        username: \"\",\r\n        email: \"\"\r\n      },\r\n      signRules: {\r\n        pass: [{ validator: validatePass, trigger: \"blur\" }],\r\n        checkPass: [{ validator: validatePass2, trigger: \"blur\" }],\r\n        username: [{ required: true, message: \"请输入用户名\" }],\r\n        email: [\r\n          { required: true, message: \"请输入邮箱地址\", trigger: \"blur\" },\r\n          // { type: \"email\", message: \"请输入正确的邮箱地址\", trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n    mounted(){\r\n    this.$Progress.finish()\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          let user = new this.$api.AV.User();\r\n          user.setUsername(this.signForm.username);\r\n          user.setPassword(this.signForm.pass);\r\n          user.setEmail(this.signForm.email);\r\n          user\r\n            .signUp()\r\n            .then(loginUser => {\r\n              this.$store.dispatch(\"login\", loginUser);//组件中分发action\r\n              this.$router.go(-1);\r\n              this.$message.success(\"注册成功\");\r\n            })\r\n            .catch(error => {\r\n              console.error(error);\r\n              this.$message.error(error.message);\r\n            });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  width: 400px;\r\n  margin: auto;\r\n\r\n  h2 {\r\n    position: relative;\r\n    left: 100px;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/signUp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',[_vm._v(\"注册\")]),_vm._v(\" \"),_c('el-form',{ref:\"signForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.signForm,\"status-icon\":\"\",\"rules\":_vm.signRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\"},model:{value:(_vm.signForm.username),callback:function ($$v) {_vm.$set(_vm.signForm, \"username\", $$v)},expression:\"signForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.signForm.pass),callback:function ($$v) {_vm.$set(_vm.signForm, \"pass\", $$v)},expression:\"signForm.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.signForm.checkPass),callback:function ($$v) {_vm.$set(_vm.signForm, \"checkPass\", $$v)},expression:\"signForm.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.signForm.email),callback:function ($$v) {_vm.$set(_vm.signForm, \"email\", $$v)},expression:\"signForm.email\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm('signForm')},\"click\":function($event){_vm.submitForm('signForm')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4bf0a59a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/signUp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4bf0a59a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./signUp.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./signUp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./signUp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4bf0a59a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./signUp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4bf0a59a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/signUp.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n      <h2>登录</h2>\r\n      <el-form :model=\"user\" status-icon :rules=\"signRules\" ref=\"loginForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n  <el-form-item label=\"用户名\" prop=\"username\" >\r\n    <el-input type=\"text\" v-model=\"user.username\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"密码\" prop=\"pass\">\r\n    <el-input type=\"password\" v-model=\"user.pass\" auto-complete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @keyup.enter=\"submitForm('loginForm')\" @click=\"submitForm('loginForm')\">提交</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        pass: \"\",\r\n        username: \"\",\r\n      },\r\n      signRules: {\r\n        pass: [{ required: true, message: \"请输入密码\" }],\r\n        username: [{ required: true, message: \"请输入用户名\" }],\r\n      }\r\n    };\r\n  },\r\n  mounted(){\r\n    this.$Progress.finish()\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.$api.AV.User.logIn(this.user.username,this.user.pass)\r\n            .then((loginUser) => {\r\n              this.$store.dispatch(\"login\", loginUser);//组件中分发action\r\n              this.$router.push({path:'/'});\r\n              this.$message.success(\"登录成功\");\r\n            })\r\n            .catch(error => {\r\n              console.error(error);\r\n              this.$message.error(error.message);\r\n            });\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.container {\r\n  width: 400px;\r\n  margin: auto;\r\n\r\n  h2 {\r\n    position: relative;\r\n    left: 100px;\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h2',[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-form',{ref:\"loginForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.user,\"status-icon\":\"\",\"rules\":_vm.signRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\"},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.user.pass),callback:function ($$v) {_vm.$set(_vm.user, \"pass\", $$v)},expression:\"user.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.submitForm('loginForm')},\"click\":function($event){_vm.submitForm('loginForm')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-43d6ced3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-43d6ced3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-43d6ced3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-43d6ced3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n      <h3 class=\"title is-3\">发布一篇新的文章</h3>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" label-position=\"top\">\r\n        <el-form-item label=\"文章分类\" prop=\"category\">\r\n          <el-select v-model=\"form.category\" value-key=\"id\" placeholder=\"请选择文章分类\">\r\n            <el-option v-for=\"cate in categorys\" :key=\"cate.id\" :label=\"cate.get('name')\" :value=\"cate\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章标题\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" placeholder=\"请输入文章标题\"></el-input>\r\n        </el-form-item>\r\n        <div class=\"el-form-item is-required\" :class=\"{'is-error':validate.error}\">\r\n          <label class=\"el-form-item__label\">文章内容</label>\r\n          <div class=\"el-form-item__content\">\r\n            <div id=\"editor\"></div>\r\n            <div v-if=\"validate.error\" class=\"el-form-item__error\">正文则能没有内容呢？</div>\r\n          </div>\r\n        </div>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submit\" @keyup.enter=\"submit\">发布文章</el-button>\r\n          </el-form-item>\r\n      </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState,mapGetters } from \"vuex\";\r\nlet editor = null; //文章内容，不写在data，响应式会增加开销，也会造成问题\r\nexport default {\r\n  name: \"create\",\r\n  data() {\r\n    return {\r\n      categorys: [],\r\n      form: {\r\n        category: null,\r\n        title: \"\"\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"必须填写标题哦！\", trigger: \"blur\" }\r\n        ],\r\n        category: [\r\n          {\r\n            type: \"object\",\r\n            required: true,\r\n            message: \"必须填写分类哦！\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      validate: {\r\n        error: false\r\n      }\r\n    };\r\n  },\r\n    computed: {\r\n    ...mapGetters([\"uid\",\"uname\"]),\r\n    ...mapState([\"user\"])\r\n    },\r\n  // computed: mapState([\"user\"]),\r\n  created() {\r\n    this.getCategory();\r\n  },\r\n  mounted() {\r\n    this.initEditor(); //在挂载完成后初始化（需要DOM节点）富文本编辑器\r\n  },\r\n  methods: {\r\n    content() {\r\n      return editor.txt.html();\r\n    },\r\n    initEditor() {\r\n      let E = window.wangEditor;\r\n      editor = new E(\"#editor\");\r\n      editor.create();\r\n      editor.onchange = () => {\r\n        this.validateContent();\r\n      };\r\n    },\r\n    getCategory() {\r\n      const cq = new this.$api.AV.Query(\"Category\");\r\n      cq\r\n        .find()\r\n        .then(categorys => {\r\n          this.categorys = categorys;\r\n          this.form.category = categorys[0];\r\n          this.$Progress.finish();\r\n        })\r\n        .catch(console.error);\r\n    },\r\n    validateContent() {\r\n      if (this.content() == \"<p><br></p>\") {\r\n        this.validate.error = true;\r\n        $(\".wangEditor-container\").css({ borderColor: \"red\" });\r\n        return false;\r\n      } else {\r\n        this.validate.error = false;\r\n        $(\".wangEditor-container\").css({ borderColor: \"#ccc\" });\r\n        return true;\r\n      }\r\n    },\r\n    createArticle() {\r\n      const article = new this.$api.AV.Object(\"Article\");\r\n      article.set(\"author\", this.user);\r\n      article.set(\"title\", this.form.title);\r\n      article.set(\"content\", this.content());\r\n      article.set(\"category\", this.form.category);\r\n      return article;\r\n    },\r\n    setACL(article) {\r\n      let acl = new this.$api.AV.ACL();\r\n      acl.setPublicReadAccess(true);\r\n      acl.setWriteAccess(this.user, true);\r\n      article.setACL(acl);\r\n    },\r\n    save(article) {\r\n      article\r\n        .save()\r\n        .then(article => {\r\n          const message = `文章《${article.get(\"title\")}》发布成功`;\r\n          this.$message({ message, type: \"success\" });\r\n          this.$router.replace({\r\n            name: \"ArticleShow\",\r\n            params: { id: article.id }\r\n          });\r\n          this.sendMessage(article);\r\n        })\r\n        .catch(console.error);\r\n    },\r\n    submit() {\r\n      this.$refs.form.validate(valid => {\r\n        let me = this.validateContent();\r\n        if (valid && me) {\r\n          const article = this.createArticle();\r\n          this.setACL(article);\r\n          this.save(article);\r\n        } else {\r\n          console.log(\"error submit!!!\");\r\n          this.$message.error(\"您填写的信息有误，请按照提示修改\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    sendMessage(article) {\r\n      var status = new this.$api.AV.Status(null, `${this.uname}发布了《${article.get(\"title\")}》文章`);\r\n      status.set(\"article\", article);\r\n      status.set(\"articleTitle\", article.get(\"title\"));\r\n      this.$api.AV.Status.sendStatusToFollowers(status).then(\r\n        function(status) {\r\n          //发布状态成功，返回状态信息\r\n          console.dir(status);\r\n        },\r\n        function(err) {\r\n          //发布失败\r\n          console.dir(err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/article/create.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',{staticClass:\"title is-3\"},[_vm._v(\"发布一篇新的文章\")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"文章分类\",\"prop\":\"category\"}},[_c('el-select',{attrs:{\"value-key\":\"id\",\"placeholder\":\"请选择文章分类\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}},_vm._l((_vm.categorys),function(cate){return _c('el-option',{key:cate.id,attrs:{\"label\":cate.get('name'),\"value\":cate}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文章标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-form-item is-required\",class:{'is-error':_vm.validate.error}},[_c('label',{staticClass:\"el-form-item__label\"},[_vm._v(\"文章内容\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-form-item__content\"},[_c('div',{attrs:{\"id\":\"editor\"}}),_vm._v(\" \"),(_vm.validate.error)?_c('div',{staticClass:\"el-form-item__error\"},[_vm._v(\"正文则能没有内容呢？\")]):_vm._e()])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit,\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}}},[_vm._v(\"发布文章\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0f32ece5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/article/create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f32ece5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./create.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f32ece5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/article/create.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n    <template v-if=\"article\"> \r\n      <h3>{{article.get('title')}}</h3>\r\n      <template v-if=\"uid\">\r\n      <div class=\"oprate\" v-if=\"uid==article.get('author').id\">\r\n        <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"toEdit\"></el-button>\r\n        <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"destroy\"></el-button>\r\n      </div>\r\n      <div v-else class=\"oprate\">\r\n        <el-button  v-if=\"follow\" type=\"info\"  round >已关注</el-button>\r\n        <el-button  v-else type=\"primary\"  icon=\"el-icon-plus\" round @click=\"toFollow\">关注</el-button>\r\n      </div>\r\n      </template>\r\n      <div class=\"content\" v-html=\"article.get('content')\"></div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"show\",\r\n  data() {\r\n    return {\r\n      article: null,\r\n      follow: false\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"uid\"])\r\n  },\r\n  created() {\r\n    const id = this.$route.params.id;\r\n    this.getArticle(id);\r\n  },\r\n  methods: {\r\n    isFollow(id) {\r\n      var query = this.$api.AV.User.current().followeeQuery();\r\n      query.find().then(followees => {\r\n        //关注的用户列表 followees\r\n        this.follow = followees.some(followee => followee.id == id);\r\n        this.$Progress.finish();\r\n\r\n      });\r\n    },\r\n    toFollow() {\r\n      const id = this.article.get(\"author\").id;\r\n      this.$api.AV.User.current()\r\n        .follow(id)\r\n        .then(\r\n          () => {\r\n            this.follow = true;\r\n            this.$message({ type: \"success\", message: \"已关注\" });\r\n          },\r\n          err => {\r\n            //关注失败\r\n            console.dir(err);\r\n          }\r\n        );\r\n    },\r\n    toEdit() {\r\n      this.$router.replace({\r\n        name: \"ArticleEdit\",\r\n        params: { id: this.article.id }\r\n      });\r\n    },\r\n    getArticle(id) {\r\n      const q = new this.$api.AV.Query(\"Article\");\r\n      q.include(\"category\");\r\n      q.include(\"author\");\r\n      q\r\n        .get(id)\r\n        .then(article => {\r\n          this.article = article;\r\n          if(this.uid&&this.uid!=article.get('author').id){\r\n          this.isFollow(this.article.get(\"author\").id);\r\n          }else{\r\n          this.$Progress.finish();\r\n          }\r\n        })\r\n        .catch(console.log);\r\n    },\r\n    destroy() {\r\n      this.article.destroy().then(() => {\r\n        this.$message({ type: \"success\", message: \"刪除成功\" });\r\n        this.$router.replace({ path: \"/article?type=all\" });\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/article/show.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.article)?[_c('h3',[_vm._v(_vm._s(_vm.article.get('title')))]),_vm._v(\" \"),(_vm.uid)?[(_vm.uid==_vm.article.get('author').id)?_c('div',{staticClass:\"oprate\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.toEdit}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.destroy}})],1):_c('div',{staticClass:\"oprate\"},[(_vm.follow)?_c('el-button',{attrs:{\"type\":\"info\",\"round\":\"\"}},[_vm._v(\"已关注\")]):_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"round\":\"\"},on:{\"click\":_vm.toFollow}},[_vm._v(\"关注\")])],1)]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.article.get('content'))}})]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-784c6697\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/article/show.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-784c6697\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./show.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./show.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./show.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-784c6697\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./show.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/article/show.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n      <h3 class=\"title is-3\" v-if=\"article\">{{article.get('title')}}</h3>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" label-position=\"top\">\r\n        <el-form-item label=\"文章分类\" prop=\"category\">\r\n          <el-select v-model=\"form.category\" value-key=\"id\" placeholder=\"请选择文章分类\">\r\n            <el-option v-for=\"cate in categorys\" :key=\"cate.id\" :label=\"cate.get('name')\" :value=\"cate\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章标题\" prop=\"title\">\r\n          <el-input v-model=\"form.title\" placeholder=\"请输入文章标题\"></el-input>\r\n        </el-form-item>\r\n        <div class=\"el-form-item is-required\" :class=\"{'is-error':validate.error}\">\r\n          <label class=\"el-form-item__label\">文章内容</label>\r\n          <div class=\"el-form-item__content\">\r\n            <div id=\"editor\"></div>\r\n            <div v-if=\"validate.error\" class=\"el-form-item__error\">正文则能没有内容呢？</div>\r\n          </div>\r\n        </div>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"submit\" @keyup.enter=\"submit\">修改文章</el-button>\r\n          </el-form-item>\r\n      </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nlet editor = null; //文章内容，不写在data，响应式会增加开销，也会造成问题\r\nexport default {\r\n  name: \"edit\",\r\n  data() {\r\n    return {\r\n      categorys: [],\r\n      article: null,\r\n      form: {\r\n        category: null,\r\n        title: \"\"\r\n      },\r\n      rules: {\r\n        title: [\r\n          { required: true, message: \"必须填写标题哦！\", trigger: \"blur\" }\r\n        ],\r\n        category: [\r\n          {\r\n            type: \"object\",\r\n            required: true,\r\n            message: \"必须填写分类哦！\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      validate: {\r\n        error: false\r\n      }\r\n    };\r\n  },\r\n  computed: mapState([\"user\"]),\r\n  created() {\r\n    this.getCategory();\r\n    this.getArticle();\r\n  },\r\n  mounted() {\r\n    this.initEditor(); //在挂载完成后初始化（需要DOM节点）富文本编辑器\r\n  },\r\n\r\n  methods: {\r\n    initEditor() {\r\n      let E = window.wangEditor;\r\n      editor = new E(\"#editor\");\r\n      editor.create();\r\n      editor.onchange = () => {\r\n        this.validateContent();\r\n      };\r\n    },\r\n    getContent() {\r\n      return editor.txt.html();\r\n    },\r\n    setContent(html) {\r\n      editor.txt.html(html);\r\n    },\r\n    wait(flag) {\r\n      console.log(flag);\r\n      return new Promise((resolve, reject) => {\r\n        let timer = null;\r\n        if (flag) {\r\n          resolve();\r\n        } else {\r\n          timer = setInterval(() => {\r\n            if (!flag) return;\r\n            resolve();\r\n            clearInterval(timer);\r\n          }, 500);\r\n        }\r\n      });\r\n    },\r\n    getArticle() {\r\n      const id = this.$route.params.id;\r\n      const q = new this.$api.AV.Query(\"Article\");\r\n      q.include(\"category\");\r\n      q.include(\"author\");\r\n      q\r\n        .get(id)\r\n        .then(article => {\r\n          this.article = article;\r\n          this.form.title = article.get(\"title\");\r\n          this.form.category = article.get(\"category\");\r\n          this.wait(editor).then(() => {\r\n            this.setContent(this.article.get(\"content\"));\r\n          });\r\n          this.$Progress.finish();\r\n        })\r\n        .catch(console.log);\r\n    },\r\n    getCategory() {\r\n      const cq = new this.$api.AV.Query(\"Category\");\r\n      cq\r\n        .find()\r\n        .then(categorys => {\r\n          this.categorys = categorys;\r\n        })\r\n        .catch(console.error);\r\n    },\r\n    validateContent() {\r\n      if (this.getContent() == \"<p><br></p>\") {\r\n        this.validate.error = true;\r\n        $(\".wangEditor-container\").css({ borderColor: \"red\" });\r\n        return false;\r\n      } else {\r\n        this.validate.error = false;\r\n        $(\".wangEditor-container\").css({ borderColor: \"#ccc\" });\r\n        return true;\r\n      }\r\n    },\r\n    setArticle() {\r\n      const article = this.article;\r\n      article.set(\"author\", this.user);\r\n      article.set(\"title\", this.form.title);\r\n      article.set(\"content\", this.getContent());\r\n      article.set(\"category\", this.form.category);\r\n      return article;\r\n    },\r\n    setACL(article) {\r\n      let acl = new this.$api.AV.ACL();\r\n      acl.setPublicReadAccess(true);\r\n      acl.setWriteAccess(this.user, true);\r\n      article.setACL(acl);\r\n    },\r\n    save(article) {\r\n      article\r\n        .save()\r\n        .then(article => {\r\n          console.log(article);\r\n          const message = `文章《${article.get(\"title\")}》修改成功`;\r\n          this.$message({ message, type: \"success\" });\r\n          this.$router.replace({\r\n            name: \"ArticleShow\",\r\n            params: { id: article.id }\r\n          });\r\n        })\r\n        .catch(console.error);\r\n    },\r\n    submit() {\r\n      this.$refs.form.validate(valid => {\r\n        let me = this.validateContent();\r\n        if (valid && me) {\r\n          const article = this.setArticle();\r\n          this.setACL(article);\r\n          this.save(article);\r\n        } else {\r\n          console.log(\"error submit!!!\");\r\n          this.$message.error(\"您填写的信息有误，请按照提示修改\");\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/article/edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.article)?_c('h3',{staticClass:\"title is-3\"},[_vm._v(_vm._s(_vm.article.get('title')))]):_vm._e(),_vm._v(\" \"),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"80px\",\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"文章分类\",\"prop\":\"category\"}},[_c('el-select',{attrs:{\"value-key\":\"id\",\"placeholder\":\"请选择文章分类\"},model:{value:(_vm.form.category),callback:function ($$v) {_vm.$set(_vm.form, \"category\", $$v)},expression:\"form.category\"}},_vm._l((_vm.categorys),function(cate){return _c('el-option',{key:cate.id,attrs:{\"label\":cate.get('name'),\"value\":cate}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文章标题\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-form-item is-required\",class:{'is-error':_vm.validate.error}},[_c('label',{staticClass:\"el-form-item__label\"},[_vm._v(\"文章内容\")]),_vm._v(\" \"),_c('div',{staticClass:\"el-form-item__content\"},[_c('div',{attrs:{\"id\":\"editor\"}}),_vm._v(\" \"),(_vm.validate.error)?_c('div',{staticClass:\"el-form-item__error\"},[_vm._v(\"正文则能没有内容呢？\")]):_vm._e()])]),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit,\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}}},[_vm._v(\"修改文章\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-0fafc766\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/article/edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fafc766\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fafc766\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/article/edit.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"我的粉丝\")]),_vm._v(\" \"),_vm._l((_vm.followers),function(follower){return _c('div',{key:follower.id},[_vm._v(\"\\n      \"+_vm._s(follower.get('username'))+\"\\n    \")])})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-34ce8abc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/follower.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34ce8abc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./follower.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./follower.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./follower.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34ce8abc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./follower.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/follower.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n      <h3>我的粉丝</h3>\r\n      <div v-for=\"follower in followers\" :key=\"follower.id\">\r\n        {{follower.get('username')}}\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"follower\",\r\n  data() {\r\n    return {\r\n      followers: []\r\n    };\r\n  },\r\n  created() {\r\n    this.followerList()\r\n  },\r\n  methods: {\r\n    followerList() {\r\n      var query = this.$api.AV.User.current().followerQuery();\r\n      query.include(\"follower\");\r\n      query.find().then(followers => {\r\n        //粉丝列表 followers\r\n        this.followers = followers;\r\n        this.$Progress.finish();\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user/follower.vue","<template>\r\n  <div class=\"container\">\r\n      <h3>我的关注</h3>\r\n      <el-card class=\"box-card\" v-for=\"(followee,index) in followees\" :key=\"followee.id\">\r\n  <div slot=\"header\" class=\"clearfix\">\r\n    <span>{{followee.get('username')}}</span>\r\n    <el-button style=\"float: right; padding: 3px 0;margin:0 10px\" type=\"text\" @click=\"cancelFollow(followee,index)\">取消关注</el-button>\r\n     <el-button style=\"float: right; padding: 3px 0\"  plain @click=\"open(followee)\">发送私信</el-button>\r\n  </div>\r\n  <div >\r\n    <el-tag type=\"success\">{{followee.get('email')}}</el-tag>\r\n    \r\n  </div>\r\n</el-card>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"followee\",\r\n  data() {\r\n    return {\r\n      articles: [],\r\n      followees: []\r\n    };\r\n  },\r\n  created() {\r\n    this.followeeList();\r\n  },\r\n  methods: {\r\n    followeeList() {\r\n      var query = this.$api.AV.User.current().followeeQuery();\r\n      query.include(\"followee\");\r\n      query.find().then(followees => {\r\n        this.followees = followees;\r\n        this.$Progress.finish();\r\n        //关注的用户列表 followees\r\n      });\r\n    },\r\n    cancelFollow(followee, index) {\r\n      this.$api.AV.User.current()\r\n        .unfollow(followee)\r\n        .then(\r\n          () => {\r\n            //取消关注成功\r\n            this.followees.splice(index, 1);\r\n            this.$message({ type: \"success\", message: \"已取消关注\" });\r\n            // this.$router.go(-1)\r\n          },\r\n          err => {\r\n            //取消关注失败\r\n            console.dir(err);\r\n          }\r\n        );\r\n    },\r\n    open(followee) {\r\n      this.$prompt(`to:${followee.get('username')}`, \"发送私信\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\"\r\n      })\r\n        .then(({ value }) => {\r\n          this.sendPrivate(followee, value);\r\n        })\r\n        .catch(() => {\r\n          //取消输入\r\n        });\r\n    },\r\n    sendPrivate(followee, value) {\r\n      var status = new this.$api.AV.Status(null, value);\r\n      this.$api.AV.Status.sendPrivateStatus(status, followee.id).then(\r\n        (status) =>{\r\n          //发送成功\r\n          console.dir(status);\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"私信发送成功\"\r\n          });\r\n        },\r\n        function(err) {\r\n          //发布失败\r\n          console.dir(err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-card {\r\n  margin-bottom: 15px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user/followee.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"我的关注\")]),_vm._v(\" \"),_vm._l((_vm.followees),function(followee,index){return _c('el-card',{key:followee.id,staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(followee.get('username')))]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\",\"margin\":\"0 10px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.cancelFollow(followee,index)}}},[_vm._v(\"取消关注\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"plain\":\"\"},on:{\"click\":function($event){_vm.open(followee)}}},[_vm._v(\"发送私信\")])],1),_vm._v(\" \"),_c('div',[_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(_vm._s(followee.get('email')))])],1)])})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-a86ead74\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/followee.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a86ead74\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./followee.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./followee.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./followee.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a86ead74\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./followee.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a86ead74\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/followee.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"container\">\r\n      <h3>朋友圈</h3>\r\n      <ul>\r\n          <li v-for=\"status in statuses\" :key=\"status.id\">{{status.data.message}}<el-tag type=\"warning\">{{status.createdAt}}</el-tag></li>\r\n      </ul>\r\n      <h4>我的消息</h4>\r\n        <ul>\r\n          <li v-for=\"status in pStatuses\" :key=\"status.id\">\r\n              {{status.data.message}}\r\n               <el-button type=\"primary\" plain>回复私信</el-button>\r\n              <el-tag type=\"warning\">{{status.createdAt}}</el-tag>\r\n         </li>\r\n      </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"friend\",\r\n  data() {\r\n    return {\r\n      statuses: [],\r\n      pStatuses: []\r\n    };\r\n  },\r\n  created() {\r\n    this.getDefaultStatus();\r\n    this.getPrivateStatus();\r\n  },\r\n  methods: {\r\n    getDefaultStatus() {\r\n      var query = this.$api.AV.Status.inboxQuery(this.$api.AV.User.current());\r\n      query.find().then(\r\n        statuses => {\r\n          //查询成功，返回状态列表，每个对象都是 AV.Status\r\n          console.log(statuses);\r\n          this.statuses = statuses;\r\n          this.$Progress.finish();\r\n        },\r\n        function(err) {\r\n          //查询失败\r\n          console.dir(err);\r\n        }\r\n      );\r\n    },\r\n    getPrivateStatus() {\r\n      var query = this.$api.AV.Status.inboxQuery(\r\n        this.$api.AV.User.current(),\r\n        \"private\"\r\n      );\r\n      query.find().then(\r\n        statuses => {\r\n          //查询成功，返回状态列表，每个对象都是 AV.Status\r\n          console.log(statuses);\r\n          this.pStatuses = statuses;\r\n          this.$Progress.finish();\r\n        },\r\n        function(err) {\r\n          //查询失败\r\n          console.dir(err);\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user/friend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('h3',[_vm._v(\"朋友圈\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.statuses),function(status){return _c('li',{key:status.id},[_vm._v(_vm._s(status.data.message)),_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(status.createdAt))])],1)})),_vm._v(\" \"),_c('h4',[_vm._v(\"我的消息\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.pStatuses),function(status){return _c('li',{key:status.id},[_vm._v(\"\\n          \"+_vm._s(status.data.message)+\"\\n           \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"回复私信\")]),_vm._v(\" \"),_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(_vm._s(status.createdAt))])],1)}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-03241744\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user/friend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03241744\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./friend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./friend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./friend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03241744\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./friend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user/friend.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport HelloWorld from '@/components/HelloWorld'\r\nimport ArticleList from '@/pages/article/list'\r\nimport SignUp from '@/pages/signUp'\r\nimport Login from '@/pages/login'\r\nimport ArticleCreate from '@/pages/article/create'\r\nimport ArticleShow from '@/pages/article/show'\r\nimport ArticleEdit from '@/pages/article/edit'\r\nimport Follower from '@/pages/user/follower'\r\nimport Followee from '@/pages/user/followee'\r\nimport Friend from '@/pages/user/friend'\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'HelloWorld',\r\n      component: HelloWorld,\r\n    }, {\r\n      path: '/article',\r\n      name: 'ArticleList',\r\n      component: ArticleList\r\n    }, {\r\n      path: '/signup',\r\n      name: 'Signup',\r\n      component: SignUp\r\n    }, {\r\n      path: '/login',\r\n      name: 'Login',\r\n      component: Login\r\n    }, {\r\n      path: '/article/show/:id',\r\n      name: 'ArticleShow',\r\n      component: ArticleShow,\r\n    }, {\r\n      path: '/article/create',\r\n      name: 'ArticleCreate',\r\n      component: ArticleCreate,\r\n      meta: {\r\n        needLogin: true\r\n      }\r\n    }, {\r\n      path: '/article/edit/:id',\r\n      name: 'ArticleEdit',\r\n      component: ArticleEdit,\r\n      meta: {\r\n        needLogin: true\r\n      }\r\n    }, {\r\n      path: '/user/follower',\r\n      name: 'Follower',\r\n      component: Follower,\r\n      meta: {\r\n        needLogin: true\r\n      }\r\n    }, {\r\n      path: '/user/followee',\r\n      name: 'Followee',\r\n      component: Followee,\r\n      meta: {\r\n        needLogin: true\r\n      }\r\n    }, {\r\n      path: '/user/friend',\r\n      name: 'Friend',\r\n      component: Friend,\r\n      meta: {\r\n        needLogin: true\r\n      }\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nconst store=new Vuex.Store({\r\n    state:{\r\n        user:null\r\n    },\r\n    getters:{\r\n        uid({user}){\r\n            if(user)return user.id;\r\n            else return false;\r\n        },\r\n        uname({user}){\r\n            if(user)return user.get('username');\r\n            else return false;\r\n        }\r\n\r\n    },\r\n    mutations:{\r\n        setUser(state,user){\r\n            state.user=user;\r\n        }\r\n    },\r\n    actions:{\r\n        exit(context){\r\n            context.commit('setUser',null);\r\n        },\r\n        login(context,user){\r\n            context.commit('setUser',user);\r\n        }\r\n    }\r\n})\r\n\r\nexport default store\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import AV from 'leancloud-storage'\r\n\r\nconst appId = 'YG422dxIB7yfERhmRdQaNP9a-gzGzoHsz';\r\nconst appKey = 'q7WQJKsigX3M3j9byMP3q8XQ';\r\nAV.init({ appId, appKey });\r\n\r\nexport default {AV:AV}\n\n\n// WEBPACK FOOTER //\n// ./src/api/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport VueProgressBar from 'vue-progressbar'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport api from './api'\r\nimport '@/assets/global.css'\r\n\r\nVue.config.productionTip = false\r\n\r\n// localStorage.setItem('debug','leancloud*')\r\n\r\nrouter.beforeEach((to,from,next)=>{\r\n  if(to.matched.some(record=>record.meta.needLogin)){\r\n    if(!store.state.user){\r\n      app.$message.error(\"请先登录\");\r\n      next({path:'/login',})\r\n    }else{\r\n      next();\r\n    }\r\n  }else{\r\n    next();\r\n  }\r\n\r\n})\r\n\r\nVue.mixin({\r\n  beforeCreate(){\r\n    if(!this.$api){\r\n      this.$api=api;\r\n    }\r\n  }\r\n})\r\n//持久化登陆\r\nconst user =api.AV.User.current();\r\nif(user){\r\n  store.commit('setUser',user);\r\n}\r\nconst options = {\r\n  color: '#bffaf3',\r\n  failedColor: '#874b4b',\r\n  thickness: '5px',\r\n  transition: {\r\n    speed: '0.2s',\r\n    opacity: '0.6s',\r\n    termination: 300\r\n  },\r\n  autoRevert: true,\r\n  location: 'top',\r\n  inverse: false\r\n}\r\n\r\nVue.use(VueProgressBar, options)\r\nVue.use(ElementUI);\r\n\r\n/* eslint-disable no-new */\r\nconst app=new Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  // components: { App },\r\n  // template: '<App/>'\r\n  render:(h)=>h(App)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}